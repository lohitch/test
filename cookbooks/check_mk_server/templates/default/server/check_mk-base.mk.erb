# Generated by Chef for <%= node[:platform] %>

<% if @agent_port -%>
# TCP port the check_mk_agent is expected to listen on.( Default 6556 )
agent_port = <%= @agent_port %>
<% end -%>

# Define contacts here
extra_nagios_conf += r"""

  define contact{
      contact_name                    support
      alias                           supports 
      service_notification_period     24x7
      host_notification_period        24x7
      service_notification_options    w,u,c,r
      host_notification_options       d,r
      service_notification_commands   service-notify-by-email
      host_notification_commands      host-notify-by-email
      email                           <%= @systemadmin %>
  }

  define contactgroup{
     contactgroup_name       systemadmin
     alias                   supports
     members                 support
  }

"""

extra_host_conf["max_check_attempts"] = [
("5", ALL_HOSTS ),
]

host_contactgroups += [
# all events
('systemadmin', ["LINUX"], ALL_HOSTS),
]

service_contactgroups += [
# all events
('systemadmin', ["LINUX"], ALL_HOSTS, [".*"]),
]
